# This file was generated by acdn-sshelper on {{ now.strftime("%Y-%m-%d %H:%M:%S") }}.

Host *.gcp
  IdentitiesOnly yes
  IdentityFile {{ private_key }}
  LogLevel ERROR
  StrictHostKeyChecking no
  UserKnownHostsFile /dev/null
  ControlMaster auto
  ControlPersist 3600
  ControlPath {{ runtime_dir }}/control-%r@%h:%p
{%- for project in projects %}

# Project name: {{ project.name }}
# Project ID: {{ project.id }}
{%- for instance in project.instances %}

Host {{ instance.host_aliases | join(' ') }}
{%- if instance.is_jumphost %}
  User {{ account.ssh_user }}
  Hostname {{ instance.external_ip }}
{%- else %}
  User admin
  ProxyJump {{ instance.jumphost.host }}
  Hostname {{ instance.internal_ip }}
  CertificateFile {{ signed_cert }}
{%- endif %}
{%- endfor %}
{%- endfor %}
